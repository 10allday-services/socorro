<py:if xmlns:py="http://genshi.edgewall.org/" test="True">

<?python
from socorro.lib.platforms import platformList
?>

<table py:def="list_by_signature(signatures, params)" id="signatureList" class="tablesorter">
 <thead>
  <tr>
   <th>Rank</th>
   <th>Signature</th>
   <th py:if="len(c.params.platforms) != 1">#</th>
   <th py:for="platform in platformList"
       py:if="len(c.params.platforms) == 0 or platform in c.params.platforms">
    ${platform.name()[:3]}
   </th>
  </tr>
 </thead>
 <tbody>
  <?python row=1 ?>
  <tr py:for="signature in signatures" class="${h.get_row_class(row)}">
   <td>${str(row)}</td>
   <td>
    <a href="${h.url_for('/report/list', signature=signature.signature, **params.getURLDict())}"
       title="View reports with this signature.">${signature.signature}</a>
   </td>
   <td py:if="len(c.params.platforms) != 1">${signature.count}</td>
   <td py:for="platform in platformList"
       py:if="len(c.params.platforms) == 0 or platform in c.params.platforms">
    ${getattr(signature, platform.count_name)}
   </td>
  <?python row+=1 ?>
  </tr>
 </tbody>
</table>

<table xmlns:py="http://genshi.edgewall.org/" py:def="list_reports(reports)" class="tablesorter" id="reportsList">
 <thead>
  <tr>
   <th>Date</th>
   <th>Product</th>
   <th>Version</th>
   <th>Build</th>
   <th>OS</th>
   <th>CPU</th>
   <th>Reason</th>
   <th>Address</th>
  </tr>
 </thead>
 <tbody>
  <py:for each="report in reports">
   <tr>
    <td class="report-date">
     <a href="${h.url_for(id=report.uuid, controller='report', action='index')}">
      ${report.date.strftime("%Y-%m-%d")}&nbsp;${report.date.strftime("%H:%M")}
     </a>
    </td>
    <td>${report.product}</td>
    <td>${report.version}</td>
    <td>${report.build}</td>
    <td>${report.os_name} ${report.os_version}</td>
    <td>${report.cpu_name}</td>
    <td>${report.reason}</td>
    <td>${report.address}</td>
   </tr>
  </py:for>
 </tbody>
</table>
</py:if>
